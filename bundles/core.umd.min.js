!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@angular/common"],e):e(t.ng2Webstorage=t.ng2Webstorage||{},t.ng.core,t.ng.common)}(this,function(t,e,n){"use strict";var o={Open:"open",Collapsing:"collapsing",Collapsed:"collapsed"},i={Height:"height",Duration:"transitionDuration"},s=function(t,e,n,o){var i,s=arguments.length,r=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(r=(s<3?i(r):s>3?i(e,n,r):i(e,n))||r);return s>3&&r&&Object.defineProperty(e,n,r),r},r=function(){function t(){this.classes={},this.optStyle={},this._duration=300,this.timers=[],this.stateChange=new e.EventEmitter,this.classes[o.Open]=!0,this.classes[o.Collapsing]=!1,this.classes[o.Collapsed]=!1,this.optStyle[i.Duration]=this._duration+"ms"}return Object.defineProperty(t.prototype,"collapse",{set:function(t){this.toggle(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"duration",{set:function(t){this._duration=t||this._duration,this.optStyle[i.Duration]=this._duration+"ms"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contentNode",{get:function(){return this.content.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contentHeight",{get:function(){return this.contentNode.getBoundingClientRect().height},enumerable:!0,configurable:!0}),t.prototype.open=function(){var t=this;this.optStyle[i.Height]=0,this.classes[o.Collapsed]=!1,this.classes[o.Collapsing]=this.classes[o.Open]=!0,this.optStyle[i.Height]=0;var e=setTimeout(function(){return t.optStyle[i.Height]=t.contentHeight},1);this.timers.push(e),e=setTimeout(function(){delete t.optStyle[i.Height],t.classes[o.Collapsing]=!1,t.stateChange.emit(!0)},this._duration),this.timers.push(e)},t.prototype.close=function(){var t=this;this.optStyle[i.Height]=this.contentHeight,this.classes[o.Open]=!1,this.classes[o.Collapsing]=!0;var e=setTimeout(function(){return t.optStyle[i.Height]=0},1);this.timers.push(e),e=setTimeout(function(){delete t.optStyle[i.Height],t.classes[o.Collapsing]=!1,t.classes[o.Collapsed]=!0,t.stateChange.emit(!1)},this._duration),this.timers.push(e)},t.prototype.resetTimers=function(){this.timers.forEach(function(t){return clearTimeout(t)}),this.timers=[]},t.prototype.toggle=function(t){void 0===t&&(t=null),this.classes[o.Open]&&t===!0||this.classes[o.Collapsed]&&t===!1||(this.resetTimers(),this.classes[o.Open]?this.close():this.open())},s([e.ViewChild("accordionContent")],t.prototype,"content",void 0),s([e.Input()],t.prototype,"collapse",null),s([e.Output()],t.prototype,"stateChange",void 0),s([e.Input()],t.prototype,"duration",null),t=s([e.Component({selector:"accordion",template:'\n\t\t<section [ngClass]="classes" [ngStyle]="optStyle" class="accordion-container">\n\t\t\t<article #accordionContent>\n\t\t\t\t<ng-content></ng-content>\n\t\t\t</article>\n\t\t</section>\n\t',styles:["\n\t\t.accordion-container {\n\t\t\ttransition-property: height;\n\t\t\ttransition-timing-function: ease-in;\n\t\t}\n\t\t."+o.Collapsed+" {\n\t\t\tdisplay:none;\n\t\t}\n\t\t."+o.Collapsing+" {\n\t\t\toverflow:hidden;\n\t\t}\n\t"]})],t)}(),l=function(t,e,n,o){var i,s=arguments.length,r=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(r=(s<3?i(r):s>3?i(e,n,r):i(e,n))||r);return s>3&&r&&Object.defineProperty(e,n,r),r},c=function(){function t(){}return t=l([e.NgModule({declarations:[r],imports:[n.CommonModule],exports:[r]})],t)}();t.Ng2Accordion=c,t.Accordion=r,Object.defineProperty(t,"__esModule",{value:!0})});